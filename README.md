# Transculturalist

A platform for cultural learning through interactive AI-powered games. Experience different cultures through engaging roleplay, stories, quizzes, and matching games generated by advanced AI models.

## Features

- **Interactive Games**: Multiple game types including roleplay, story generation, multiple-choice questions, and matching games
- **AI-Powered Content**: Dynamic content generation using OpenAI's GPT models
- **Cultural Learning**: Explore various cultural themes and traditions
- **Web-Based Interface**: Simple and intuitive web interface
- **Docker Support**: Easy deployment with Docker Compose

## Game Types

- **Roleplay**: Engage in conversations with AI characters from different cultures
- **Story**: Experience interactive cultural stories with branching narratives
- **MCQ (Multiple Choice Questions)**: Test your knowledge with culturally-themed quizzes
- **Matching**: Match cultural elements and concepts

## Tech Stack

- **Backend**: Node.js with Express.js
- **Frontend**: Vanilla HTML/CSS/JavaScript
- **AI Integration**: OpenAI API
- **Containerization**: Docker & Docker Compose

## Prerequisites

- Node.js (v14 or higher)
- Docker & Docker Compose (for containerized deployment)
- OpenAI API key

## Installation

### Option 1: Using Docker Compose (Recommended)

#### 1.1 Using Pre-built Docker Image (Easiest)

You can run the application in any folder you like. You do NOT need to clone the whole repository—just prepare the following files:

1. **Create a `config.js` file** in your chosen folder (you can copy the template below):
   ```javascript
   module.exports = {
     OPENAI_API_KEY: 'your-openai-api-key-here',
     BASE_URL: 'https://api.openai.com/v1',
     DEFAULT_MODEL: 'gpt-4o-mini'
   };
   ```

2. **Download or copy the `docker-compose.yml`** from this repository into the same folder.


3. In your folder, run (IMPORTANT: use an absolute path or ${PWD} for config.js):
   ```powershell
   # On Windows PowerShell (recommended):
   docker run -d -p 3030:3030 -v ${PWD}/config.js:/app/server/config.js:ro -e NODE_ENV=production ghcr.io/bylinmou/transculturalist:latest
   # Or, use your absolute path (replace with your actual folder):
   docker run -d -p 3030:3030 -v C:/Users/YourName/YourFolder/config.js:/app/server/config.js:ro -e NODE_ENV=production ghcr.io/bylinmou/transculturalist:latest
   ```

The application will be available at `http://localhost:3030`

**Note:**
- Always use an absolute path or `${PWD}` for the left side of the `-v` option to avoid Docker mount errors, especially on Windows.

#### 1.2 Building from Source

If you prefer to build the image locally:

1. Clone the repository:
   ```bash
   git clone https://github.com/BYLinMou/Transculturalist.git
   cd Transculturalist
   ```

2. Configure the API keys (same as above):
   ```bash
   cd server
   cp config.example.js config.js
   ```
   Edit `server/config.js` and add your OpenAI API key and base URL.

3. Build and run the application:
   ```bash
   docker compose up --build
   ```

The application will be available at `http://localhost:3030`


### Option 2: Local Development

1. Clone the repository:
   ```bash
   git clone https://github.com/BYLinMou/Transculturalist.git
   cd Transculturalist
   ```

2. Install dependencies:
   ```bash
   # Frontend dependencies (if any)
   cd frontend
   npm install
   cd ..

   # Backend dependencies
   cd server
   npm install
   cd ..
   ```

3. Configure API keys:
   ```bash
   cd server
   cp config.example.js config.js
   ```
   Edit `config.js` and add your OpenAI API key and base URL:
   ```javascript
   module.exports = {
     OPENAI_API_KEY: 'your-openai-api-key-here',
     BASE_URL: 'https://api.openai.com/v1',
     DEFAULT_MODEL: 'gpt-4o-mini'
   };
   ```

4. Build the frontend:
   ```bash
   cd frontend
   npm run build
   cd ..
   ```

5. Start the server:
   ```bash
   cd server
   npm run dev  # For development with auto-reload
   # or
   npm start    # For production
   ```

6. Open your browser and navigate to `http://localhost:3030`

## Configuration

The server configuration is handled through `server/config.js`. You can also use environment variables:

- `OPENAI_API_KEY`: Your OpenAI API key
- `BASE_URL`: OpenAI API base URL (default: https://api.openai.com/v1)
- `DEFAULT_MODEL`: Default AI model to use (default: gpt-4o-mini)
- `PORT`: Server port (default: 3030)

## API Endpoints

- `GET /api/health` - Health check
- `GET /api/games` - List available games
- `POST /api/ai/generate` - Generate game content
- `POST /api/roleplay/character` - Generate roleplay character
- `POST /api/roleplay/chat` - Continue roleplay conversation
- `POST /api/story/chapter` - Generate story chapter
- `POST /api/upload` - File upload

## Development

### Project Structure

```
transculturalist/
├── frontend/          # Static frontend files
│   ├── public/        # Served static files
│   ├── src/           # Source files
│   └── package.json
├── server/            # Node.js backend
│   ├── src/
│   │   ├── routes/    # API routes
│   │   └── services/  # Business logic
│   ├── config/        # Game configurations
│   └── package.json
├── docker-compose.yml # Docker setup
└── README.md
```

### Adding New Games

1. Create a new game configuration in `server/config/games/`
2. Update the game service in `server/src/services/gameConfigService.js`
3. Add corresponding frontend components if needed

## Contributing

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Test thoroughly
5. Submit a pull request

## License

This project is licensed under the MIT License - see the LICENSE file for details.

## Acknowledgments

- Powered by OpenAI's GPT models
- Built with Express.js and modern web technologies
